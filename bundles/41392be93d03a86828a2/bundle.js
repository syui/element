/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,o,i,s={"./node_modules/@formatjs/intl-segmenter/should-polyfill.js":(e,t)=>{"use strict";t.Z=void 0,t.Z=function(){return!Intl.Segmenter}},"./node_modules/matrix-js-sdk/src/@types/extensible_events.ts":(e,t,n)=>{"use strict";n.d(t,{BJ:()=>u,Et:()=>a,K0:()=>i,NY:()=>l,yB:()=>s});var r=n("./node_modules/matrix-events-sdk/lib/index.js"),o=n("./node_modules/matrix-js-sdk/src/extensible_events_v1/utilities.ts");const i=new r.UnstableValue("m.message","org.matrix.msc1767.message"),s=new r.UnstableValue("m.text","org.matrix.msc1767.text"),a=new r.UnstableValue("m.html","org.matrix.msc1767.html"),u=new r.NamespacedValue("m.reference");function l(e,t){if("string"==typeof e)return"string"==typeof t?t===e:t.matches(e);if("string"==typeof t)return e.matches(t);{const n=t,r=e;return n.matches(r.name)||(0,o.c)(r.altName)&&n.matches(r.altName)}}},"./node_modules/matrix-js-sdk/src/@types/location.ts":(e,t,n)=>{"use strict";n.d(t,{J1:()=>i,M6:()=>a,Yg:()=>o,vo:()=>s});var r=n("./node_modules/matrix-js-sdk/src/NamespacedValue.ts");n("./node_modules/matrix-js-sdk/src/@types/extensible_events.ts");let o=function(e){return e.Self="m.self",e.Pin="m.pin",e}({});const i=new r.qr("m.asset","org.matrix.msc3488.asset"),s=new r.qr("m.ts","org.matrix.msc3488.ts"),a=new r.qr("m.location","org.matrix.msc3488.location")},"./node_modules/matrix-js-sdk/src/@types/read_receipts.ts":(e,t,n)=>{"use strict";n.d(t,{L:()=>r,S:()=>o});let r=function(e){return e.Read="m.read",e.FullyRead="m.fully_read",e.ReadPrivate="m.read.private",e}({});const o="main"},"./node_modules/matrix-js-sdk/src/NamespacedValue.ts":(e,t,n)=>{"use strict";n.d(t,{M6:()=>i,qr:()=>s,xu:()=>o});var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");class o{constructor(e,t){if(this.stable=e,this.unstable=t,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}get name(){return this.stable?this.stable:this.unstable}get altName(){return this.stable?this.unstable:null}get names(){const e=[this.name],t=this.altName;return t&&e.push(t),e}matches(e){return this.name===e||this.altName===e}findIn(e){let t;return this.name&&(t=null==e?void 0:e[this.name]),!t&&this.altName&&(t=null==e?void 0:e[this.altName]),t}includedIn(e){let t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}class i extends o{constructor(...e){super(...e),(0,r.A)(this,"preferUnstable",!1)}setPreferUnstable(e){this.preferUnstable=e}get name(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}class s extends o{constructor(e,t){if(super(e,t),!this.unstable)throw new Error("Unstable value must be supplied")}get name(){return this.unstable}get altName(){return this.stable}}},"./node_modules/matrix-js-sdk/src/extensible_events_v1/utilities.ts":(e,t,n)=>{"use strict";function r(e){return null!=e}function o(e){return r(e)&&"string"==typeof e}n.d(t,{P:()=>o,c:()=>r})},"./node_modules/matrix-js-sdk/src/logger.ts":(e,t,n)=>{"use strict";n.d(t,{T:()=>l,v:()=>u});var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("./node_modules/loglevel/lib/loglevel.js"),i=n.n(o);const s="matrix";function a(e){const t=e;t.getChild=t.withPrefix=function(e){return function(e){const t=i().getLogger(`${s}-${e}`);t.prefix!==e&&(a(t),t.prefix=e,t.setLevel(i().levels.DEBUG,!1));return t}((this.prefix||"")+e)}}i().methodFactory=function(e,t,n){return function(...t){this.prefix&&t.unshift(this.prefix);return"error"===e||"warn"===e||"trace"===e||"info"===e||"debug"===e?console[e](...t):console.log(...t)}};const u=i().getLogger(s);u.setLevel(i().levels.DEBUG,!1),a(u);class l{constructor(e,t){(0,r.A)(this,"name",void 0),this.parent=e,this.name=t+":"}trace(...e){this.parent.trace(this.name,...e)}debug(...e){this.parent.debug(this.name,...e)}info(...e){this.parent.info(this.name,...e)}warn(...e){this.parent.warn(this.name,...e)}error(...e){this.parent.error(this.name,...e)}}},"./node_modules/matrix-js-sdk/src/utils.ts":(e,t,n)=>{"use strict";n.d(t,{$9:()=>H,A4:()=>g,Ab:()=>y,Bi:()=>K,C6:()=>ne,CC:()=>z,Et:()=>O,Fq:()=>W,Gp:()=>j,HF:()=>ee,Mf:()=>F,NQ:()=>R,Nt:()=>S,Ny:()=>v,Nz:()=>h,O5:()=>re,RR:()=>b,S8:()=>x,UB:()=>_,YY:()=>te,_4:()=>q,aw:()=>$,c7:()=>V,d7:()=>P,d8:()=>C,dn:()=>k,hX:()=>L,hc:()=>T,hl:()=>E,hm:()=>m,iH:()=>A,iK:()=>U,j0:()=>D,kG:()=>oe,kg:()=>Z,ky:()=>w,ll:()=>Y,sy:()=>G,tf:()=>B,v6:()=>I,yD:()=>p,yy:()=>N,zR:()=>X});var r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("./node_modules/unhomoglyph/index.js"),i=n.n(o),s=n("./node_modules/p-retry/index.js"),a=n.n(s),u=n("./node_modules/matrix-js-sdk/src/@types/location.ts"),l=n("./node_modules/matrix-js-sdk/src/@types/read_receipts.ts");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=new Map;function p(e){return e instanceof String&&(e=e.toString()),d.has(e)||d.set(e,e),d.get(e)}function m(e,t){const n=null!=t?t:new URLSearchParams;for(const[t,r]of Object.entries(e))null!=r&&(Array.isArray(r)?r.forEach((e=>{n.append(t,String(e))})):n.append(t,String(r)));return n}function y(e,t,n){const r=f(f({},n),{},{[t]:n[e]});return delete r[e],r}function v(e){const t={},n=new URLSearchParams(e);for(const e of n.keys()){const r=n.getAll(e);t[e]=1===r.length?r[0]:r}return t}function b(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];null!=r&&(e=e.replace(n,encodeURIComponent(r)))}return e}function h(e,t,n){let r;if(n){for(r=e.length-1;r>=0;r--)if(t(e[r],r,e))return e.splice(r,1),!0}else for(r=0;r<e.length;r++)if(t(e[r],r,e))return e.splice(r,1),!0;return!1}function _(e,t){for(const n of t)if(!e.hasOwnProperty(n))throw new Error("Missing required key: "+n)}function g(e){return JSON.parse(JSON.stringify(e))}function w(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("number"==typeof e&&isNaN(e)&&isNaN(t))return!0;if(null===e||null===t)return e===t;if(!(e instanceof Object))return!1;if(e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(e instanceof RegExp||e instanceof Date)return e.toString()===t.toString();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!w(e[n],t[n]))return!1}else{for(const n in t)if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;for(const n in e)if(t.hasOwnProperty(n)!==e.hasOwnProperty(n)||!w(e[n],t[n]))return!1}return!0}function E(e){if("object"!=typeof e)return e;if(null==e||Array.isArray(e))return e;const t=[];for(const[n,r]of Object.entries(e))t.push([n,E(r)]);return t.sort(((e,t)=>$(e[0],t[0]))),t}function O(e){return"number"==typeof e&&isFinite(e)}function j(e){return"string"==typeof e?i()(e.normalize("NFD").replace(M,"")):""}function P(e){return"string"==typeof e?e.replace(/[\u202d-\u202e]/g,""):""}function x(e){return j(e.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()}const M=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\u2800\u2062-\u2063\s]/g;function S(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(e){return S(e).replace(/\\\*/g,".*").replace(/\?/g,".")}function T(e){return null!=e&&e.endsWith("/")?e.slice(0,-1):e}function N(e,t){return new Promise((n=>{setTimeout(n,e,t)}))}async function R(e,t,n){const r=Date.now();try{return await n()}finally{const n=Date.now();e.debug(`[Perf]: ${t} took ${n-r}ms`)}}function A(){return new Promise((e=>setTimeout(e)))}function L(e){return null==e}function I(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{resolve:e,reject:t,promise:n}}async function C(e,t){for(const n of e)await t(await n)}function D(e){return Promise.resolve(e())}async function U(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(...await Promise.all(e.slice(r,r+t).map((e=>e()))));return n}function z(e){return a()((t=>e(t)),{forever:!0,factor:2,minTimeout:3e3,maxTimeout:15e3})}const F=(()=>{let e="";for(let t=32;t<=126;t++)e+=String.fromCharCode(t);return e})();function B(e,t,n=F){return e.padEnd(t,n[0])}function V(e,t=F){const n=BigInt(t.length);var r;if(e<=n)return null!==(r=t[Number(e)-1])&&void 0!==r?r:"";let o=e/n,i=Number(e%n)-1;return i<0&&(o-=BigInt(Math.abs(i)),i=Number(n)-1),V(o,t)+t[i]}function q(e,t=F){const n=BigInt(t.length);let r=BigInt(0);for(let o=e.length-1,i=BigInt(0);o>=0;o--,i++){const s=e.charCodeAt(o)-t.charCodeAt(0);r+=BigInt(1+s)*n**i}return r}function G(e,t,n=F){const r=Math.max(e.length,t.length),o=q(B(e,r,n),n),i=q(B(t,r,n),n),s=(o+i)/BigInt(2);return s===o||s==i?V(s,n)+n[0]:V(s,n)}function H(e,t=F){return V(q(e,t)+BigInt(1),t)}function X(e,t=F){return V(q(e,t)-BigInt(1),t)}function $(e,t){return e<t?-1:e>t?1:0}function K(e,t,n=!1){for(const[r,o]of Object.entries(t))e[r]instanceof Object&&o?K(e[r],o):null==o&&n||ne(e,r,o);return e}function J(e){var t;return null!==(t=u.vo.findIn(e.getContent()))&&void 0!==t?t:-1}function W(e,t){return J(t)-J(e)}function Y(e){return[l.L.Read,l.L.ReadPrivate].includes(e)}function Z(e,t,n=(e,t)=>e===t){if(e.size!==t.size)return!1;for(const[r,o]of e){const e=t.get(r);if(void 0===e||!n(o,e))return!1}return!0}function Q(e){return e instanceof Map?ee(e):Array.isArray(e)?e.map((e=>Q(e))):e}function ee(e){const t=new Map;for(const[n,r]of e)t.set(n,Q(r));return Object.fromEntries(t.entries())}function te(e){return"__proto__"===e||"prototype"===e||"constructor"===e}function ne(e,t,n){if(te(t))throw new Error("Trying to modify prototype or constructor");e[t]=n}function re(e){return!(te(e.room_id)||te(e.sender)||te(e.event_id))}class oe extends Map{constructor(e){super(),this.createDefault=e}getOrCreate(e){return this.has(e)||this.set(e,this.createDefault()),this.get(e)}}},"./src/vector/devcss.ts":()=>{0},"./src/vector/index.ts":(e,t,n)=>{"use strict";var r=n("./node_modules/matrix-js-sdk/src/logger.ts"),o=n("./node_modules/@formatjs/intl-segmenter/should-polyfill.js"),i=n("./src/vector/url_utils.ts");n("./src/vector/modernizr.js");async function s(...e){for(const t of e)try{await t}catch(e){r.v.error(e)}}n("./node_modules/katex/dist/katex.css"),n("./src/vector/devcss.ts"),n("./src/vector/localstorage-fix.ts");const a=function(){if(!window.Modernizr)return r.v.error("Cannot check features - Modernizr global is missing."),!1;window.Modernizr.addTest("promiseprototypefinally",(()=>{var e;return"function"==typeof(null===(e=window.Promise)||void 0===e||null===(e=e.prototype)||void 0===e?void 0:e.finally)})),window.Modernizr.addTest("promiseallsettled",(()=>{var e;return"function"==typeof(null===(e=window.Promise)||void 0===e?void 0:e.allSettled)})),window.Modernizr.addTest("regexpdotall",(()=>{var e,t;return(null===(e=window.RegExp)||void 0===e?void 0:e.prototype)&&!(null===(t=Object.getOwnPropertyDescriptor(window.RegExp.prototype,"dotAll"))||void 0===t||!t.get)})),window.Modernizr.addTest("objectfromentries",(()=>{var e;return"function"==typeof(null===(e=window.Object)||void 0===e?void 0:e.fromEntries)})),window.Modernizr.addTest("intlsegmenter",(()=>{var e;return"function"==typeof(null===(e=window.Intl)||void 0===e?void 0:e.Segmenter)})),window.Modernizr.addTest("wasm",(()=>"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Module));const e=Object.keys(window.Modernizr);let t=!0;for(const n of e){if(void 0===window.Modernizr[n])return r.v.error("Looked for feature '%s' but Modernizr has no results for this. Has it been configured correctly?",n),!1;!1===window.Modernizr[n]&&(r.v.error("Browser missing feature: '%s'",n),t=!1)}return t}();(async function(){(0,o.Z)()&&await n.e(2585).then(n.bind(n,"./node_modules/@formatjs/intl-segmenter/polyfill-force.js"));const{rageshakePromise:e,setupLogStorage:t,preparePlatform:u,loadConfig:l,loadLanguage:c,loadTheme:f,loadApp:d,loadModules:p,showError:m,showIncompatibleBrowser:y,_t:v,extractErrorMessageFromError:b}=await Promise.all([n.e(5813),n.e(119),n.e(5385)]).then(n.bind(n,"./src/vector/init.tsx"));try{await s(e);const n=(0,i._)(window.location);if(!(n.params.client_secret||n.location.length>0)){const e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=/Android/.test(navigator.userAgent);if((e||t)&&-1===document.cookie.indexOf("element_mobile_redirect_to_guide=false"))return void(window.location.href="mobile_guide/")}u();const o=l();await s(o);const b=t(),h=p();await s(h);const _=c(),g=f();await s(g,_);let w=a;!w&&window.localStorage&&(w=Boolean(window.localStorage.getItem("mx_accepts_unsupported_browser"))),w||await new Promise(((e,t)=>{r.v.error("Browser is missing required features."),y((()=>{window.localStorage&&window.localStorage.setItem("mx_accepts_unsupported_browser",String(!0)),r.v.log("User accepts the compatibility risks."),e()})).catch(t)}));try{await o}catch(e){return e instanceof SyntaxError?m(v("error|misconfigured"),[v("error|invalid_json"),v("error|invalid_json_detail",{message:e.message||v("error|invalid_json_generic")})]):m(v("error|cannot_load_config"))}await h,await g,await _,await s(b),await d(n.params)}catch(e){r.v.error(e),await m(v("error|misconfigured"),[b(e,v("error|app_launch_unexpected_error"))])}})().catch((e=>{var t;r.v.error(e),document.body.style.removeProperty("height");const n=document.createElement("iframe");n.sandbox="",n.src=a?"static/unable-to-load.html":"static/incompatible-browser.html",n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.border="0",null===(t=document.getElementById("matrixchat"))||void 0===t||t.appendChild(n)}))},"./src/vector/localstorage-fix.ts":()=>{window.localStorage&&Object.keys(window.localStorage).forEach((e=>{e.startsWith("loglevel:")&&window.localStorage.removeItem(e)}))},"./src/vector/modernizr.js":()=>{!function(e,t,n,r){var o=[],i={_version:"3.13.0",_config:{classPrefix:"",enableClasses:!1,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},s=function(){};s.prototype=i,s=new s;var a=[];function u(e,t){return typeof e===t}var l="Moz O ms Webkit",c=i._config.usePrefixes?l.split(" "):[];i._cssomPrefixes=c;var f=n.documentElement,d="svg"===f.nodeName.toLowerCase();function p(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):d?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}var m={elem:p("modernizr")};s._q.push((function(){delete m.elem}));var y={style:m.elem.style};function v(e,t,r,o){var i,s,a,u,l="modernizr",c=p("div"),m=function(){var e=n.body;return e||((e=p(d?"svg":"body")).fake=!0),e}();if(parseInt(r,10))for(;r--;)(a=p("div")).id=o?o[r]:l+(r+1),c.appendChild(a);return(i=p("style")).type="text/css",i.id="s"+l,(m.fake?m:c).appendChild(i),m.appendChild(c),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(n.createTextNode(e)),c.id=l,m.fake&&(m.style.background="",m.style.overflow="hidden",u=f.style.overflow,f.style.overflow="hidden",f.appendChild(m)),s=t(c,e),m.fake&&m.parentNode?(m.parentNode.removeChild(m),f.style.overflow=u,f.offsetHeight):c.parentNode.removeChild(c),!!s}function b(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function h(e,n){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(b(e[o]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+b(e[o])+":"+n+")");return v("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===function(e,n,r){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,e,n);var i=t.console;null!==o?r&&(o=o.getPropertyValue(r)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!n&&e.currentStyle&&e.currentStyle[r];return o}(e,null,"position")}))}return r}function _(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}s._q.unshift((function(){delete y.style}));var g=i._config.usePrefixes?l.toLowerCase().split(" "):[];function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t,n,o,i){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+c.join(s+" ")+s).split(" ");return u(t,"string")||u(t,"undefined")?function(e,t,n,o){if(o=!u(o,"undefined")&&o,!u(n,"undefined")){var i=h(e,n);if(!u(i,"undefined"))return i}for(var s,a,l,c,f,d=["modernizr","tspan","samp"];!y.style&&d.length;)s=!0,y.modElem=p(d.shift()),y.style=y.modElem.style;function m(){s&&(delete y.style,delete y.modElem)}for(l=e.length,a=0;a<l;a++)if(c=e[a],f=y.style[c],~(""+c).indexOf("-")&&(c=_(c)),y.style[c]!==r){if(o||u(n,"undefined"))return m(),"pfx"!==t||c;try{y.style[c]=n}catch(e){}if(y.style[c]!==f)return m(),"pfx"!==t||c}return m(),!1}(a,t,o,i):function(e,t,n){var r;for(var o in e)if(e[o]in t)return!1===n?e[o]:u(r=t[e[o]],"function")?w(r,n||t):r;return!1}(a=(e+" "+g.join(s+" ")+s).split(" "),t,n)}function O(e,t,n){return E(e,r,r,t,n)}i._domPrefixes=g,i.testAllProps=E,i.testAllProps=O,s.addTest("cssanimations",O("animationName","a",!0)),(i.testStyles=v)("#modernizr{display: table; direction: ltr}#modernizr div{display: table-cell; padding: 10px}",(function(e){var t,n=e.childNodes;t=n[0].offsetLeft<n[1].offsetLeft,s.addTest("displaytable",t,{aliases:["display-table"]})}),2);var j=i._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];i._prefixes=j;var P="CSS"in t&&"supports"in t.CSS,x="supportsCSS"in t;s.addTest("supports",P||x),s.addTest("cssfilters",(function(){if(s.supports)return O("filter","blur(2px)");var e=p("a");return e.style.cssText=j.join("filter:blur(2px); "),!!e.style.length&&(n.documentMode===r||n.documentMode>9)})),s.addTest("flexbox",O("flexBasis","1px",!0));var M=function(e){var n,o=j.length,i=t.CSSRule;if(void 0===i)return r;if(!e)return!1;if((n=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+e;for(var s=0;s<o;s++){var a=j[s];if(a.toUpperCase()+"_"+n in i)return"@-"+a.toLowerCase()+"-"+e}return!1};i.atRule=M;var S,k,T=i.prefixed=function(e,t,n){return 0===e.indexOf("@")?M(e):(-1!==e.indexOf("-")&&(e=_(e)),t?E(e,t,n):E(e,"pfx"))};function N(e,t){if("object"==typeof e)for(var n in e)S(e,n)&&N(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),o=s[r[0]];if(2===r.length&&(o=o[r[1]]),void 0!==o)return s;t="function"==typeof t?t():t,1===r.length?s[r[0]]=t:(!s[r[0]]||s[r[0]]instanceof Boolean||(s[r[0]]=new Boolean(s[r[0]])),s[r[0]][r[1]]=t),function(e){var t=f.className,n=s._config.classPrefix||"";if(d&&(t=t.baseVal),s._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}s._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),d?f.className.baseVal=t:f.className=t)}([(t&&!1!==t?"":"no-")+r.join("-")]),s._trigger(e,t)}return s}s.addTest("objectfit",!!T("objectFit"),{aliases:["object-fit"]}),s.addTest("es5date",(function(){var e=!1;try{e=!!Date.parse("2013-04-12T06:06:37.307Z")}catch(e){}return!!(Date.now&&Date.prototype&&Date.prototype.toISOString&&Date.prototype.toJSON&&e)})),s.addTest("es5function",(function(){return!(!Function.prototype||!Function.prototype.bind)})),s.addTest("es5object",(function(){return!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)})),s.addTest("es5undefined",(function(){var e,n;try{n=t.undefined,t.undefined=12345,e=void 0===t.undefined,t.undefined=n}catch(e){return!1}return e})),s.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),s.addTest("es6collections",!!(t.Map&&t.Set&&t.WeakMap&&t.WeakSet)),s.addTest("promises",(function(){return"Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&(new t.Promise((function(t){e=t})),"function"==typeof e);var e})),s.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),s.addTest("svg",!!n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),S=u(k={}.hasOwnProperty,"undefined")||u(k.call,"undefined")?function(e,t){return t in e&&u(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},i._l={},i.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),s.hasOwnProperty(e)&&setTimeout((function(){s._trigger(e,s[e])}),0)},i._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},s._q.push((function(){i.addTest=N})),s.addTest("svgasimg",n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")),s.addTest("svgfilters",(function(){var e=!1;try{e="SVGFEColorMatrixElement"in t&&2===SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return e})),s.addTest("urlparser",(function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}})),s.addTest("urlsearchparams","URLSearchParams"in t),s.addTest("cors","XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest);var R=T("crypto",t);s.addTest("crypto",!!T("subtle",R)),s.addTest("sandbox","sandbox"in p("iframe")),s.addTest("json","JSON"in t&&"parse"in JSON&&"stringify"in JSON),s.addTest("fetch","fetch"in t),s.addTest("localstorage",(function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})),s.addTest("resizeobserver","ResizeObserver"in t),s.addTest("webaudio",(function(){var e="webkitAudioContext"in t,n="AudioContext"in t;return s._config.usePrefixes&&e||n})),function(){var e,t,n,r,i,l;for(var c in o)if(o.hasOwnProperty(c)){if(e=[],(t=o[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=u(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(l=e[i].split(".")).length?s[l[0]]=r:(s[l[0]]&&(!s[l[0]]||s[l[0]]instanceof Boolean)||(s[l[0]]=new Boolean(s[l[0]])),s[l[0]][l[1]]=r),a.push((r?"":"no-")+l.join("-"))}}(),delete i.addTest,delete i.addAsyncTest;for(var A=0;A<s._q.length;A++)s._q[A]();e.Modernizr=s}(window,window,document)},"./src/vector/url_utils.ts":(e,t,n)=>{"use strict";n.d(t,{_:()=>o,u:()=>i});var r=n("./node_modules/matrix-js-sdk/src/utils.ts");function o(e){const t=e.hash.substring(1).split("?"),n={location:decodeURIComponent(t[0]),params:{}};return t.length>1&&(n.params=(0,r.Ny)(t[1])),n}function i(e){return(0,r.Ny)(e.search.substring(1))}},"./node_modules/loglevel/lib/loglevel.js":function(e,t,n){var r,o;!function(){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?s(console,r):void 0!==console.log?s(console,"log"):e)}function l(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function f(e,t,n){return u(e)||c.apply(this,arguments)}function d(e,n){var s,a,u,c=this,d="loglevel";function p(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}function m(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}function y(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function v(e){var t=e;if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||f,c.getLevel=function(){return null!=u?u:null!=a?a:s},c.setLevel=function(e,t){return u=v(e),!1!==t&&p(u),l.call(c)},c.setDefaultLevel=function(e){a=v(e),m()||c.setLevel(e,!1)},c.resetLevel=function(){u=null,y(),l.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(i!==c&&(s=v(i.getLevel())),l.call(c),i===c)for(var e in o)o[e].rebuild()},s=v(i?i.getLevel():"WARN");var b=m();null!=b&&(u=v(b)),l.call(c)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new d(e,i.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=p),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},"./node_modules/matrix-events-sdk/lib/ExtensibleEvents.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensibleEvents=void 0;var r=n("./node_modules/matrix-events-sdk/lib/NamespacedMap.js"),o=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js"),i=n("./node_modules/matrix-events-sdk/lib/interpreters/legacy/MRoomMessage.js"),s=n("./node_modules/matrix-events-sdk/lib/interpreters/modern/MMessage.js"),a=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),u=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js"),l=n("./node_modules/matrix-events-sdk/lib/interpreters/modern/MPoll.js");function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"interpreters",new r.NamespacedMap([[i.LEGACY_M_ROOM_MESSAGE,i.parseMRoomMessage],[a.M_MESSAGE,s.parseMMessage],[a.M_EMOTE,s.parseMMessage],[a.M_NOTICE,s.parseMMessage],[u.M_POLL_START,l.parseMPoll],[u.M_POLL_RESPONSE,l.parseMPoll],[u.M_POLL_END,l.parseMPoll]])),p(this,"_unknownInterpretOrder",[a.M_MESSAGE])}var t,n,f;return t=e,f=[{key:"defaultInstance",get:function(){return e._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return e.defaultInstance.unknownInterpretOrder},set:function(t){e.defaultInstance.unknownInterpretOrder=t}},{key:"registerInterpreter",value:function(t,n){e.defaultInstance.registerInterpreter(t,n)}},{key:"parse",value:function(t){return e.defaultInstance.parse(t)}}],(n=[{key:"unknownInterpretOrder",get:function(){var e;return null!==(e=this._unknownInterpretOrder)&&void 0!==e?e:[]},set:function(e){this._unknownInterpretOrder=e}},{key:"registerInterpreter",value:function(e,t){this.interpreters.set(e,t)}},{key:"parse",value:function(e){try{if(this.interpreters.hasNamespaced(e.type))return this.interpreters.getNamespaced(e.type)(e);var t,n=c(this.unknownInterpretOrder);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.interpreters.has(r)){var i=this.interpreters.get(r)(e);if(i)return i}}}catch(e){n.e(e)}finally{n.f()}return null}catch(e){if(e instanceof o.InvalidEventError)return null;throw e}}}])&&d(t.prototype,n),f&&d(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ExtensibleEvents=m,p(m,"_defaultInstance",new m)},"./node_modules/matrix-events-sdk/lib/IPartialEvent.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/matrix-events-sdk/lib/InvalidEventError.js":(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){var t=a();return function(){var r,o=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},i(e)}function s(e,t,n){return s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o},s.apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidEventError=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(a,e);var t,n,i,s=o(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.call(this,e)}return t=a,n&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(i(Error));t.InvalidEventError=c},"./node_modules/matrix-events-sdk/lib/NamespacedMap.js":(e,t)=>{"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.NamespacedMap=void 0;var i=function(){function e(t){var r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o="internalMap",i=new Map,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,t){var s,a=n(t);try{for(a.s();!(s=a.n()).done;){var u=s.value;this.set(u[0],u[1])}}catch(e){a.e(e)}finally{a.f()}}}var t,r,i;return t=e,(r=[{key:"get",value:function(e){return e.name&&this.internalMap.has(e.name)?this.internalMap.get(e.name):e.altName&&this.internalMap.has(e.altName)?this.internalMap.get(e.altName):null}},{key:"set",value:function(e,t){e.name&&this.internalMap.set(e.name,t),e.altName&&this.internalMap.set(e.altName,t)}},{key:"has",value:function(e){return!!this.get(e)}},{key:"delete",value:function(e){e.name&&this.internalMap.delete(e.name),e.altName&&this.internalMap.delete(e.altName)}},{key:"hasNamespaced",value:function(e){return this.internalMap.has(e)}},{key:"getNamespaced",value:function(e){return this.internalMap.get(e)}}])&&o(t.prototype,r),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NamespacedMap=i},"./node_modules/matrix-events-sdk/lib/NamespacedValue.js":(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.UnstableValue=t.NamespacedValue=void 0;var l=function(){function e(t,n){if(s(this,e),this.stable=t,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return u(e,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(e){return!!this.name&&this.name===e||!!this.altName&&this.altName===e}},{key:"findIn",value:function(e){var t;return this.name&&(t=null==e?void 0:e[this.name]),!t&&this.altName&&(t=null==e?void 0:e[this.altName]),t}},{key:"includedIn",value:function(e){var t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}]),e}();t.NamespacedValue=l;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(n,e);var t=o(n);function n(e,r){var o;if(s(this,n),!(o=t.call(this,e,r)).unstable)throw new Error("Unstable value must be supplied");return o}return u(n,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),n}(l);t.UnstableValue=c},"./node_modules/matrix-events-sdk/lib/events/EmoteEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EmoteEvent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),s=n("./node_modules/matrix-events-sdk/lib/utility/events.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,r,o=f(p);function p(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),o.call(this,e)}return t=p,r=[{key:"from",value:function(e,t){var n;return new p({type:i.M_EMOTE.name,content:(n={},a(n,i.M_TEXT.name,e),a(n,i.M_HTML.name,t),n)})}}],(n=[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,i.M_EMOTE)||l(d(p.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=l(d(p.prototype),"serialize",this).call(this);return e.content.msgtype="m.emote",e}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.MessageEvent);t.EmoteEvent=p},"./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js":(e,t)=>{"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensibleEvent=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wireFormat=t}var t,r,o;return t=e,(r=[{key:"wireContent",get:function(){return this.wireFormat.content}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ExtensibleEvent=r},"./node_modules/matrix-events-sdk/lib/events/MessageEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageEvent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/types.js"),s=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js"),a=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),u=n("./node_modules/matrix-events-sdk/lib/utility/events.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,n,r,o=p(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),v(m(t=o.call(this,e)),"text",void 0),v(m(t),"html",void 0),v(m(t),"renderings",void 0);var n=a.M_MESSAGE.findIn(t.wireContent),r=a.M_TEXT.findIn(t.wireContent),u=a.M_HTML.findIn(t.wireContent);if((0,i.isProvided)(n)){if(!Array.isArray(n))throw new s.InvalidEventError("m.message contents must be an array");var c=n.find((function(e){return!(0,i.isProvided)(e.mimetype)||"text/plain"===e.mimetype})),f=n.find((function(e){return"text/html"===e.mimetype}));if(!c)throw new s.InvalidEventError("m.message is missing a plain text representation");t.text=c.body,t.html=null==f?void 0:f.body,t.renderings=n}else{if(!(0,i.isOptionalAString)(r))throw new s.InvalidEventError("Missing textual representation for event");t.text=r,t.html=u,t.renderings=[{body:r,mimetype:"text/plain"}],t.html&&t.renderings.push({body:t.html,mimetype:"text/html"})}return t}return t=l,r=[{key:"from",value:function(e,t){var n;return new l({type:a.M_MESSAGE.name,content:(n={},v(n,a.M_TEXT.name,e),v(n,a.M_HTML.name,t),n)})}}],(n=[{key:"isEmote",get:function(){return a.M_EMOTE.matches(this.wireFormat.type)||(0,i.isProvided)(a.M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return a.M_NOTICE.matches(this.wireFormat.type)||(0,i.isProvided)(a.M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(e){return(0,u.isEventTypeSame)(e,a.M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var e=v({},a.M_MESSAGE.name,this.renderings);if(1===this.renderings.length){var t=this.renderings[0].mimetype;void 0!==t&&"text/plain"!==t||(e=v({},a.M_TEXT.name,this.renderings[0].body))}return e}},{key:"serialize",value:function(){var e;return{type:"m.room.message",content:c(c({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:null!==(e=this.html)&&void 0!==e?e:void 0})}}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.ExtensibleEvent);t.MessageEvent=b},"./node_modules/matrix-events-sdk/lib/events/NoticeEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeEvent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),s=n("./node_modules/matrix-events-sdk/lib/utility/events.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,r,o=f(p);function p(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),o.call(this,e)}return t=p,r=[{key:"from",value:function(e,t){var n;return new p({type:i.M_NOTICE.name,content:(n={},a(n,i.M_TEXT.name,e),a(n,i.M_HTML.name,t),n)})}}],(n=[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,s.isEventTypeSame)(e,i.M_NOTICE)||l(d(p.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=l(d(p.prototype),"serialize",this).call(this);return e.content.msgtype="m.notice",e}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.MessageEvent);t.NoticeEvent=p},"./node_modules/matrix-events-sdk/lib/events/PollEndEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollEndEvent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js"),i=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js"),s=n("./node_modules/matrix-events-sdk/lib/events/relationship_types.js"),a=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),u=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),l=n("./node_modules/matrix-events-sdk/lib/utility/events.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(v,e);var t,n,r,c=m(v);function v(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),b(y(t=c.call(this,e)),"pollEventId",void 0),b(y(t),"closingMessage",void 0);var n=t.wireContent["m.relates_to"];if(!s.REFERENCE_RELATION.matches(null==n?void 0:n.rel_type)||"string"!=typeof(null==n?void 0:n.event_id))throw new i.InvalidEventError("Relationship must be a reference to an event");return t.pollEventId=n.event_id,t.closingMessage=new a.MessageEvent(t.wireFormat),t}return t=v,r=[{key:"from",value:function(e,t){var n;return new v({type:o.M_POLL_END.name,content:(n={"m.relates_to":{rel_type:s.REFERENCE_RELATION.name,event_id:e}},b(n,o.M_POLL_END.name,{}),b(n,u.M_TEXT.name,t),n)})}}],(n=[{key:"isEquivalentTo",value:function(e){return(0,l.isEventTypeSame)(e,o.M_POLL_END)}},{key:"serialize",value:function(){return{type:o.M_POLL_END.name,content:f(b({"m.relates_to":{rel_type:s.REFERENCE_RELATION.name,event_id:this.pollEventId}},o.M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),v}(n("./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js").ExtensibleEvent);t.PollEndEvent=h},"./node_modules/matrix-events-sdk/lib/events/PollResponseEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollResponseEvent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js"),s=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js"),a=n("./node_modules/matrix-events-sdk/lib/events/relationship_types.js"),u=n("./node_modules/matrix-events-sdk/lib/utility/events.js");function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,r,o=f(p);function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),m(d(t=o.call(this,e)),"internalAnswerIds",void 0),m(d(t),"internalSpoiled",void 0),m(d(t),"pollEventId",void 0);var n=t.wireContent["m.relates_to"];if(!a.REFERENCE_RELATION.matches(null==n?void 0:n.rel_type)||"string"!=typeof(null==n?void 0:n.event_id))throw new s.InvalidEventError("Relationship must be a reference to an event");return t.pollEventId=n.event_id,t.validateAgainst(null),t}return t=p,r=[{key:"from",value:function(e,t){return new p({type:i.M_POLL_RESPONSE.name,content:m({"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:t}},i.M_POLL_RESPONSE.name,{answers:e})})}}],(n=[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(e){var t=i.M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(null==t?void 0:t.answers))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);var n=t.answers;if(n.some((function(e){return"string"!=typeof e}))||0===n.length)return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);if(e){if(n.some((function(t){return!e.answers.some((function(e){return e.id===t}))})))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);n=n.slice(0,e.maxSelections)}this.internalAnswerIds=n,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(e){return(0,u.isEventTypeSame)(e,i.M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:i.M_POLL_RESPONSE.name,content:m({"m.relates_to":{rel_type:a.REFERENCE_RELATION.name,event_id:this.pollEventId}},i.M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o.ExtensibleEvent);t.PollResponseEvent=y},"./node_modules/matrix-events-sdk/lib/events/PollStartEvent.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PollStartEvent=t.PollAnswerSubevent=void 0;var o=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js"),i=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),s=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),a=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js"),u=n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js"),l=n("./node_modules/matrix-events-sdk/lib/utility/events.js"),c=n("./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js");function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){h(n,e);var t=g(n);function n(e){var r;y(this,n),O(w(r=t.call(this,e)),"id",void 0);var o=e.content.id;if(!o||"string"!=typeof o)throw new a.InvalidEventError("Answer ID must be a non-empty string");return r.id=o,r}return b(n,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:m({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(e,t){return new n({type:"org.matrix.sdk.poll.answer",content:O({id:e},s.M_TEXT.name,t)})}}]),n}(i.MessageEvent);t.PollAnswerSubevent=j;var P=function(e){h(n,e);var t=g(n);function n(e){var r;y(this,n),O(w(r=t.call(this,e)),"question",void 0),O(w(r),"kind",void 0),O(w(r),"rawKind",void 0),O(w(r),"maxSelections",void 0),O(w(r),"answers",void 0);var s=o.M_POLL_START.findIn(r.wireContent);if(!s.question)throw new a.InvalidEventError("A question is required");if(r.question=new i.MessageEvent({type:"org.matrix.sdk.poll.question",content:s.question}),r.rawKind=s.kind,o.M_POLL_KIND_DISCLOSED.matches(r.rawKind)?r.kind=o.M_POLL_KIND_DISCLOSED:r.kind=o.M_POLL_KIND_UNDISCLOSED,r.maxSelections=Number.isFinite(s.max_selections)&&s.max_selections>0?s.max_selections:1,!Array.isArray(s.answers))throw new a.InvalidEventError("Poll answers must be an array");var u=s.answers.slice(0,20).map((function(e){return new j({type:"org.matrix.sdk.poll.answer",content:e})}));if(u.length<=0)throw new a.InvalidEventError("No answers available");return r.answers=u,r}return b(n,[{key:"isEquivalentTo",value:function(e){return(0,l.isEventTypeSame)(e,o.M_POLL_START)}},{key:"serialize",value:function(){var e;return{type:o.M_POLL_START.name,content:(e={},O(e,o.M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map((function(e){return e.serialize().content}))}),O(e,s.M_TEXT.name,"".concat(this.question.text,"\n").concat(this.answers.map((function(e,t){return"".concat(t+1,". ").concat(e.text)})).join("\n"))),e)}}}],[{key:"from",value:function(e,t,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new n({type:o.M_POLL_START.name,content:(i={},O(i,s.M_TEXT.name,e),O(i,o.M_POLL_START.name,{question:O({},s.M_TEXT.name,e),kind:r instanceof u.NamespacedValue?r.name:r,max_selections:a,answers:t.map((function(e){return O({id:f(Array(16)).map((function(){return x.charAt(Math.floor(Math.random()*x.length))})).join("")},s.M_TEXT.name,e)}))}),i)})}}]),n}(c.ExtensibleEvent);t.PollStartEvent=P;var x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"},"./node_modules/matrix-events-sdk/lib/events/message_types.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_TEXT=t.M_NOTICE=t.M_MESSAGE=t.M_HTML=t.M_EMOTE=void 0;var r=n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js"),o=new r.UnstableValue("m.message","org.matrix.msc1767.message");t.M_MESSAGE=o;var i=new r.UnstableValue("m.text","org.matrix.msc1767.text");t.M_TEXT=i;var s=new r.UnstableValue("m.html","org.matrix.msc1767.html");t.M_HTML=s;var a=new r.UnstableValue("m.emote","org.matrix.msc1767.emote");t.M_EMOTE=a;var u=new r.UnstableValue("m.notice","org.matrix.msc1767.notice");t.M_NOTICE=u},"./node_modules/matrix-events-sdk/lib/events/poll_types.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M_POLL_START=t.M_POLL_RESPONSE=t.M_POLL_KIND_UNDISCLOSED=t.M_POLL_KIND_DISCLOSED=t.M_POLL_END=void 0;var r=n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js"),o=new r.UnstableValue("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");t.M_POLL_KIND_DISCLOSED=o;var i=new r.UnstableValue("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");t.M_POLL_KIND_UNDISCLOSED=i;var s=new r.UnstableValue("m.poll.start","org.matrix.msc3381.poll.start");t.M_POLL_START=s;var a=new r.UnstableValue("m.poll.response","org.matrix.msc3381.poll.response");t.M_POLL_RESPONSE=a;var u=new r.UnstableValue("m.poll.end","org.matrix.msc3381.poll.end");t.M_POLL_END=u},"./node_modules/matrix-events-sdk/lib/events/relationship_types.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFERENCE_RELATION=void 0;var r=new(n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js").NamespacedValue)("m.reference");t.REFERENCE_RELATION=r},"./node_modules/matrix-events-sdk/lib/index.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/matrix-events-sdk/lib/ExtensibleEvents.js");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n("./node_modules/matrix-events-sdk/lib/IPartialEvent.js");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n("./node_modules/matrix-events-sdk/lib/InvalidEventError.js");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=n("./node_modules/matrix-events-sdk/lib/NamespacedMap.js");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=n("./node_modules/matrix-events-sdk/lib/types.js");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n("./node_modules/matrix-events-sdk/lib/utility/MessageMatchers.js");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n("./node_modules/matrix-events-sdk/lib/utility/events.js");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var f=n("./node_modules/matrix-events-sdk/lib/interpreters/legacy/MRoomMessage.js");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var d=n("./node_modules/matrix-events-sdk/lib/interpreters/modern/MMessage.js");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=n("./node_modules/matrix-events-sdk/lib/interpreters/modern/MPoll.js");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var m=n("./node_modules/matrix-events-sdk/lib/events/relationship_types.js");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var y=n("./node_modules/matrix-events-sdk/lib/events/ExtensibleEvent.js");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=n("./node_modules/matrix-events-sdk/lib/events/message_types.js");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var b=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var h=n("./node_modules/matrix-events-sdk/lib/events/EmoteEvent.js");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var _=n("./node_modules/matrix-events-sdk/lib/events/NoticeEvent.js");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var g=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var w=n("./node_modules/matrix-events-sdk/lib/events/PollStartEvent.js");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var E=n("./node_modules/matrix-events-sdk/lib/events/PollResponseEvent.js");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var O=n("./node_modules/matrix-events-sdk/lib/events/PollEndEvent.js");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}))},"./node_modules/matrix-events-sdk/lib/interpreters/legacy/MRoomMessage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEGACY_M_ROOM_MESSAGE=void 0,t.parseMRoomMessage=function(e){var t,n,s;if(a.M_MESSAGE.findIn(e.content)||a.M_TEXT.findIn(e.content))return new r.MessageEvent(e);var u,f=null===(t=e.content)||void 0===t?void 0:t.msgtype,d=null===(n=e.content)||void 0===n?void 0:n.body,p="org.matrix.custom.html"===(null===(s=e.content)||void 0===s?void 0:s.format)?e.content.formatted_body:null;return"m.text"===f?new r.MessageEvent(l(l({},e),{},{content:l(l({},e.content),{},(u={},c(u,a.M_TEXT.name,d),c(u,a.M_HTML.name,p),u))})):"m.notice"===f?new o.NoticeEvent(l(l({},e),{},{content:l(l({},e.content),{},(m={},c(m,a.M_TEXT.name,d),c(m,a.M_HTML.name,p),m))})):"m.emote"===f?new i.EmoteEvent(l(l({},e),{},{content:l(l({},e.content),{},(y={},c(y,a.M_TEXT.name,d),c(y,a.M_HTML.name,p),y))})):null;var m,y};var r=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),o=n("./node_modules/matrix-events-sdk/lib/events/NoticeEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/events/EmoteEvent.js"),s=n("./node_modules/matrix-events-sdk/lib/NamespacedValue.js"),a=n("./node_modules/matrix-events-sdk/lib/events/message_types.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=new s.NamespacedValue("m.room.message");t.LEGACY_M_ROOM_MESSAGE=f},"./node_modules/matrix-events-sdk/lib/interpreters/modern/MMessage.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMMessage=function(e){if(o.M_EMOTE.matches(e.type))return new i.EmoteEvent(e);if(o.M_NOTICE.matches(e.type))return new s.NoticeEvent(e);return new r.MessageEvent(e)};var r=n("./node_modules/matrix-events-sdk/lib/events/MessageEvent.js"),o=n("./node_modules/matrix-events-sdk/lib/events/message_types.js"),i=n("./node_modules/matrix-events-sdk/lib/events/EmoteEvent.js"),s=n("./node_modules/matrix-events-sdk/lib/events/NoticeEvent.js")},"./node_modules/matrix-events-sdk/lib/interpreters/modern/MPoll.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMPoll=function(e){if(r.M_POLL_START.matches(e.type))return new o.PollStartEvent(e);if(r.M_POLL_RESPONSE.matches(e.type))return new i.PollResponseEvent(e);if(r.M_POLL_END.matches(e.type))return new s.PollEndEvent(e);return null};var r=n("./node_modules/matrix-events-sdk/lib/events/poll_types.js"),o=n("./node_modules/matrix-events-sdk/lib/events/PollStartEvent.js"),i=n("./node_modules/matrix-events-sdk/lib/events/PollResponseEvent.js"),s=n("./node_modules/matrix-events-sdk/lib/events/PollEndEvent.js")},"./node_modules/matrix-events-sdk/lib/types.js":(e,t)=>{"use strict";function n(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.isOptionalAString=function(e){return n(e)&&"string"==typeof e},t.isProvided=n},"./node_modules/matrix-events-sdk/lib/utility/MessageMatchers.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyMsgType=void 0,t.isEventLike=function(e,t){var n=e.content;if(t===r.Text)return o.M_MESSAGE.matches(e.type)||"m.room.message"===e.type&&"m.text"===(null==n?void 0:n.msgtype);if(t===r.Emote)return o.M_EMOTE.matches(e.type)||"m.room.message"===e.type&&"m.emote"===(null==n?void 0:n.msgtype);if(t===r.Notice)return o.M_NOTICE.matches(e.type)||"m.room.message"===e.type&&"m.notice"===(null==n?void 0:n.msgtype);return!1};var r,o=n("./node_modules/matrix-events-sdk/lib/events/message_types.js");t.LegacyMsgType=r,function(e){e.Text="m.text",e.Notice="m.notice",e.Emote="m.emote"}(r||(t.LegacyMsgType=r={}))},"./node_modules/matrix-events-sdk/lib/utility/events.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEventTypeSame=function(e,t){if("string"==typeof e)return"string"==typeof t?t===e:t.matches(e);if("string"==typeof t)return e.matches(t);var n=t,r=e;return n.matches(r.name)||n.matches(r.altName)}},"./node_modules/katex/dist/katex.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/p-retry/index.js":(e,t,n)=>{"use strict";const r=n("./node_modules/retry/index.js"),o=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const s=(e,t)=>new Promise(((n,s)=>{t={onFailedAttempt:()=>{},retries:10,...t};const a=r.operation(t);a.attempt((async r=>{try{n(await e(r))}catch(e){if(!(e instanceof Error))return void s(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof i)a.stop(),s(e.originalError);else if(e instanceof TypeError&&(u=e.message,!o.includes(u)))a.stop(),s(e);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(e,r,t);try{await t.onFailedAttempt(e)}catch(e){return void s(e)}a.retry(e)||s(a.mainError())}}var u}))}));e.exports=s,e.exports.default=s,e.exports.AbortError=i},"./node_modules/retry/index.js":(e,t,n)=>{e.exports=n("./node_modules/retry/lib/retry.js")},"./node_modules/retry/lib/retry.js":(e,t,n)=>{var r=n("./node_modules/retry/lib/retry_operation.js");t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],e)"function"==typeof e[o]&&r.push(o);for(var i=0;i<r.length;i++){var s=r[i],a=e[s];e[s]=function(r){var o=t.operation(n),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),s.apply(this,arguments))})),o.attempt((function(){r.apply(e,i)}))}.bind(e,a),e[s].options=n}}},"./node_modules/retry/lib/retry_operation.js":e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],i=o.message,s=(e[i]||0)+1;e[i]=s,s>=n&&(t=o,n=s)}return t}},"./node_modules/unhomoglyph/index.js":(e,t,n)=>{"use strict";var r=n("./node_modules/unhomoglyph/data.json");var o=RegExp(Object.keys(r).map((function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")})).join("|"),"g");function i(e){return r[e]}e.exports=function(e){return e.replace(o,i)}},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js");function o(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),o=n("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function i(e){var t=(0,o.A)(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})}},a={};function u(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,u),n.loaded=!0,n.exports}u.m=s,u.amdD=function(){throw new Error("define cannot be used indirect")},u.amdO={},e=[],u.O=(t,n,r,o)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,r,o]=e[c],s=!0,a=0;a<n.length;a++)(!1&o||i>=o)&&Object.keys(u.O).every((e=>u.O[e](n[a])))?n.splice(a--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]},u.H={},u.G=e=>{Object.keys(u.H).map((t=>{u.H[t](e)}))},u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);u.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,u.d(o,i),o},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>"bundles/"+u.h()+"/"+({1869:"styles",2585:"intl-segmenter-polyfill",2702:"element-web-app",3304:"playback.worker",3444:"indexeddb.worker",4980:"blurhash.worker",5385:"init",5607:"error-view"}[e]||e)+".js",u.miniCssF=e=>"bundles/"+u.h()+"/error-view.css",u.h=()=>"41392be93d03a86828a2",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="element-web:",u.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var s,a;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==o+n){s=f;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.setAttribute("data-webpack",o+n),s.src=e),r[e]=[t];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var t=u.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e+"../../"})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var r=u.miniCssF(e),o=u.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,o))return t();((e,t,n,r,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",u.nc&&(i.nonce=u.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var s=n&&n.type,a=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+a+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,i.parentNode&&i.parentNode.removeChild(i),o(u)}},i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i)})(e,o,null,t,n)})),t={3023:0};u.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{5607:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))},u.H.miniCss=e=>{if((!u.o(t,e)||void 0===t[e])&&/^(3023|5607)$/.test(e)){t[e]=null;var n=document.createElement("link");n.charset="utf-8",u.nc&&n.setAttribute("nonce",u.nc),n.rel="preload",n.as="style",n.href=u.p+u.miniCssF(e),document.head.appendChild(n)}}}})(),(()=>{u.b=document.baseURI||self.location.href;var e={3023:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=u.p+u.u(t),s=new Error;u.l(i,(n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}},u.H.j=t=>{if(!u.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");n.charset="utf-8",u.nc&&n.setAttribute("nonce",u.nc),n.rel="preload",n.as="script",n.href=u.p+u.u(t),document.head.appendChild(n)}},u.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,s,a]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in s)u.o(s,r)&&(u.m[r]=s[r]);if(a)var c=a(u)}for(t&&t(n);l<i.length;l++)o=i[l],u.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return u.O(c)},n=self.webpackChunkelement_web=self.webpackChunkelement_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),u.nc=void 0,i={5385:[6889,1237,1869,1546,2702]},u.f.preload=e=>{var t=i[e];Array.isArray(t)&&t.map(u.G)};var l=u.O(void 0,[1040],(()=>u("./src/vector/index.ts")));l=u.O(l)})();
//# sourceMappingURL=bundle.js.map