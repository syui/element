{"version":3,"file":"bundles/41392be93d03a86828a2/5813.js","mappings":"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","sources":["webpack://element-web/./node_modules/matrix-js-sdk/src/indexeddb-helpers.ts","webpack://element-web/./node_modules/matrix-js-sdk/src/store/indexeddb-local-backend.ts"],"names":["exists","indexedDB","dbName","Promise","resolve","reject","req","open","onupgradeneeded","onblocked","error","onsuccess","result","close","deleteDatabase","onerror","DB_MIGRATIONS","db","createObjectStore","keyPath","createIndex","autoIncrement","VERSION","length","selectQuery","store","keyRange","resultMapper","query","openCursor","results","Error","cursor","push","continue","txnAsPromise","txn","oncomplete","event","reqAsEventPromise","reqAsCursorPromise","then","LocalIndexedDBStoreBackend","idbExists","constructor","_defineProperty","this","syncAccumulator","SyncAccumulator","connect","onClose","disconnected","logger","log","ev","oldVersion","_isNewlyCreated","forEach","migration","index","async","onversionchange","_this$db","undefined","onclose","init","isNewlyCreated","all","loadAccountData","loadSyncData","accountData","syncData","accumulate","next_batch","nextBatch","rooms","roomsData","account_data","events","getOutOfBandMembers","roomId","roomIndex","transaction","objectStore","range","IDBKeyRange","only","request","membershipEvents","oobWritten","record","value","oob_written","err","setOutOfBandMembers","tx","e","put","markerObject","room_id","state_key","clearOutOfBandMembers","roomRange","minStateKeyProm","openKeyCursor","primaryKey","maxStateKeyProm","minStateKey","maxStateKey","writeStore","membersKeyRange","bound","delete","clearDatabase","_this$db2","warn","getSavedSync","copy","data","getJSON","deepCopy","getNextBatchToken","setSyncData","syncToDatabase","userTuples","syncToDatabasePromise","pendingUserPresenceData","unshift","doSyncToDatabase","persistUserPresenceEvents","persistAccountData","persistSyncData","promiseTry","clobber","tuples","tuple","userId","getUserPresenceEvents","getClientOptions","_cursor$value","options","storeClientOptions","saveToDeviceBatches","batches","batch","add","getOldestToDeviceBatch","resultBatch","id","key","txnId","eventType","removeToDeviceBatch","destroy","_this$db3"],"sourceRoot":""}